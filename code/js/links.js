const TWOPI=6.2831853;var langDict=[],currentAngle=0,angleUpdateTime=5,targetAngleSpeed=.00125,angleSpeed=125e-6,rotating=!0,startStep=12,minStep=9,stepChange=.85;function UpdateLinks(){if(0<langDict.length&&rotating)for(var e in angleSpeed<targetAngleSpeed&&(angleSpeed+=targetAngleSpeed/250),(currentAngle+=angleSpeed)>TWOPI&&(currentAngle-=TWOPI),langDict)AdjustItems(langDict[e],startStep,TWOPI,currentAngle,0,0)}function ToggleRotation(){(rotating=!rotating)||(angleSpeed=0)}function OrganizeLinks(){var n=$("section.lang-section");langDict=[],n.each(function(e){var a=n.eq(e).find(".visualLink"),l=n.eq(e).find(".linkItem"),r=[];l.each(function(e){var e=l.eq(e),n=(e.hover(ToggleRotation),e.find(".dataHolder")),t=n.find(".name").text(),n=n.find(".parent").text(),i=a.find(".line"+t);PlaceItem(r,e,t,n,i,0,!0)}),langDict.push(r)})}function PlaceItem(e,n,t,i,a,l,r){var g,d,c=!1;for(g in e)if((d=e[g]).itemName==i)return d.children.push({item:n,itemName:t,parentName:i,line:a,children:[],level:l+1}),n.addClass("level"+l),!0;for(g in e)if(c=PlaceItem((d=e[g]).children,n,t,i,a,l+1,!1))return!0;return!(c||!r)&&(e.push({item:n,itemName:t,parentName:i,line:a,children:[],level:l}),n.addClass("level"+l),!0)}function AdjustItems(e,n,t,i,a,l){var r,g=$(window).width()/100,d=$(window).height()/100,c=Math.min(g,d),g=(n=Math.max(minStep,n),i),o=t/e.length,s=g=1<e.length?g-t/2+o/2:g,h=$(e[0].line).parent().width(),m=$(e[0].line).parent().height(),a=a+h/2,l=l+m/2;for(r in e){var p=e[r],f=p.level*n,u=f*Math.cos(s),f=f*Math.sin(s),u=($(p.item).css("transform","translate("+u+"vmin,"+f+"vmin)"),$(p.line).attr("x1",a),$(p.line).attr("y1",l),u*c+h/2),f=f*c+m/2;$(p.line).attr("x2",u),$(p.line).attr("y2",f),0<p.children.length&&AdjustItems(p.children,n*stepChange,o,s,u-h/2,f-m/2),s+=o}}$(window).on("load",function(){OrganizeLinks(),setInterval(UpdateLinks,angleUpdateTime)});