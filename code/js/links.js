const TWOPI=6.2831853;var langDict=[],currentAngle=0,angleUpdateTime=5,targetAngleSpeed=.00125,angleSpeed=125e-6,rotating=!0,startStep=12,minStep=9,stepChange=.85;function UpdateLinks(){if(0<langDict.length&&rotating)for(var e in angleSpeed<targetAngleSpeed&&(angleSpeed+=targetAngleSpeed/250),(currentAngle+=angleSpeed)>TWOPI&&(currentAngle-=TWOPI),langDict)AdjustItems(langDict[e],startStep,TWOPI,currentAngle,0,0)}function ToggleRotation(){(rotating=!rotating)||(angleSpeed=0)}function OrganizeLinks(){var n=$("section.lang-section");langDict=[],n.each(function(e){var i=n.eq(e).find(".visualLink"),l=n.eq(e).find(".linkItem"),r=[];l.each(function(e){var n=l.eq(e);n.hover(ToggleRotation);var t=n.find(".dataHolder"),a=t.find(".name").text(),e=t.find(".parent").text(),t=i.find(".line"+a);PlaceItem(r,n,a,e,t,0,!0)}),langDict.push(r)})}function PlaceItem(e,n,t,a,i,l,r){var g,d,c=!1;for(g in e)if((d=e[g]).itemName==a){d.children.push({item:n,itemName:t,parentName:a,line:i,children:[],level:l+1});var o="level"+l;return n.addClass(o),c=!0}for(g in e)if(c=PlaceItem((d=e[g]).children,n,t,a,i,l+1,!1))return!0;if(c||!r)return!1;e.push({item:n,itemName:t,parentName:a,line:i,children:[],level:l});o="level"+l;return n.addClass(o),!0}function AdjustItems(e,n,t,a,i,l){var r=$(window).width()/100,g=$(window).height()/100,d=Math.min(r,g);n=Math.max(minStep,n);var c,a=a,o=t/e.length,s=a=1<e.length?a-t/2+o/2:a,h=$(e[0].line).parent().width(),m=$(e[0].line).parent().height(),i=i+h/2,l=l+m/2;for(c in e){var p=e[c],f=p.level*n,u=f*Math.cos(s),f=f*Math.sin(s);$(p.item).css("transform","translate("+u+"vmin,"+f+"vmin)"),$(p.line).attr("x1",i),$(p.line).attr("y1",l);u=u*d+h/2,f=f*d+m/2;$(p.line).attr("x2",u),$(p.line).attr("y2",f),0<p.children.length&&AdjustItems(p.children,n*stepChange,o,s,u-h/2,f-m/2),s+=o}}$(window).on("load",function(){OrganizeLinks(),setInterval(UpdateLinks,angleUpdateTime)});